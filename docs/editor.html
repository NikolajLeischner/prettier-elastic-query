<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>Elasticsearch Query Prettifier</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard-polyfill/2.5.4/clipboard-polyfill.js" type="text/javascript"></script>
    <link href="resources/prettier-es.css" rel="stylesheet" type="text/css" />
    <script src="resources/prettier-es.js" type="text/javascript"></script>
    <style>
        textarea {
            width: 70%;
            height: 200px;
        }
        #copy-result {
            color: green;
        }
    </style>
</head>
<body>
<h3>Elasticsearch query prettifier</h3>
<p>Demo page for <a href="https://github.com/traut/prettier-es">prettier-es</a> library</p>
<textarea placeholder="Query text" id="editor-input"></textarea>
<p>
<button onClick="javascript:prettify()">Prettify</button>
<button onClick="javascript:copy()">Copy HTML result</button><span id="copy-result"></span>
</p>
<span id="result-wrapper"><pre><code id="result"></code></pre></span>
<script>
    function prettify() {
        var raw = document.getElementById("editor-input").value;
        document.getElementById("result").innerHTML = PrettierEs.prettify(raw, 90);
        document.getElementById("copy-result").innerText = '';
    }
    function copy() {
        var dt = new clipboard.DT();
        dt.setData("text/plain", document.getElementById("result-wrapper").innerHTML);
        clipboard.write(dt);
        document.getElementById("copy-result").innerText = ' âœ“';
    }
</script>
</body>
</html>
